{"ast":null,"code":"import{useContext,useState}from\"react\";import\"../index\";import{StoreContext}from\"../store/StoreContext\";import remove_img from\"../img/remove_red_eye.svg\";import remove_close_img from\"../img/remove_eye-off-outline.svg\";import{Link,useNavigate}from\"react-router-dom\";import*as Yup from\"yup\";import{Formik,Form,Field,ErrorMessage}from\"formik\";import{observer}from'mobx-react-lite';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginForm=()=>{const initialValues={email:\"\",password:\"\",role:\"\",keepLoggedIn:false};const[showPassword,setShowPassword]=useState(false);const[keepLoggedIn,setKeepLoggedIn]=useState(false);const handleTogglePassword=()=>{setShowPassword(!showPassword);};const{store}=useContext(StoreContext);const navigate=useNavigate();const validationSchema=Yup.object().shape({email:Yup.string().email(\"Nieprawidłowy adres email\").required(\"Email jest wymagany\"),password:Yup.string().min(8,\"Password musi mieć co najmniej 8 znaków\").required(\"Password jest wymagane\"),role:Yup.string().required(\"Wybierz swoje oddział\")});const onSubmit=async(values,_ref)=>{let{resetForm}=_ref;try{await store.login(values.email,values.password,values.role);if(keepLoggedIn){localStorage.setItem(\"isLoggedIn\",\"true\");}if(store.isAuth){}navigate(\"/brand\");resetForm();}catch(error){console.error(\"Authentication failed:\",error);}};return/*#__PURE__*/_jsxs(\"section\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-left\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-4xl leading-10\",children:\"Logowanie do oddzia\\u0142u\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-base text-[#A3AED0] tracking-tight mt-2  pb-[13px] relative\",children:[\"Wpisz sw\\xF3j adres e-mail i has\\u0142o, aby si\\u0119 zalogowa\\u0107!\",/*#__PURE__*/_jsx(\"span\",{className:\"absolute bottom-0 left-0 w-full h-[1px] bg-[#E0E5F2] max-[500px]:w-[310px]\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col\",children:/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,validationSchema:validationSchema,onSubmit:onSubmit,children:_ref2=>{let{values,errors,touched}=_ref2;return/*#__PURE__*/_jsxs(Form,{method:\"post\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 mb-[51px]\",children:[/*#__PURE__*/_jsxs(Field,{as:\"select\",name:\"role\",className:\"w-[388px] py-3 px-4 border border-[#E0E2E7] bg-transparent rounded-2xl text-[#A3AED0] focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm max-[500px]:w-[310px] \".concat(touched.role&&errors.role?\"border-red-500\":\"\"),children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"Select your Branch...\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u0411\\u0440\\u0435\\u043D\\u0434\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u0410\\u0444\\u0456\\u043B\\u0456\\u0430\\u0442\"})]}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"role\",component:\"div\",className:\"text-red-500 text-sm mt-1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",htmlFor:\"user-email\",children:\"Email*\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Field,{className:\"form_input mb-6 w-[410px] max-[500px]:w-[310px]\",id:\"user-email\",type:\"text\",placeholder:\"mail@simmmple.com\",name:\"email\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"email\",component:\"div\",className:\"text-red-500 text-sm mt-[2px]\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",htmlFor:\"user-password\",children:\"Password*\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Field,{className:\"form_input mb-[5px] w-[410px] max-[500px]:w-[310px]\",id:\"user-password\",type:showPassword?\"text\":\"password\",placeholder:\"Min. 8 characters\",name:\"password\"}),/*#__PURE__*/_jsx(\"img\",{src:showPassword?remove_img:remove_close_img,alt:showPassword?\"Hide password\":\"Show password\",onClick:handleTogglePassword,className:\"absolute inset-y-0 right-0 mt-[30px] mr-[18px] cursor-pointer\"})]}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",component:\"div\",className:\"text-red-500 text-sm mt-[2px]\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-[#2E65F3] text-[14px] leading-5 text-end font-medium max-[500px]:mr-[16px]\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Forget password?\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex  mt-[29px]  mb-[39px]\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center mb-4 text-[14px] leading-5\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:keepLoggedIn,onChange:()=>setKeepLoggedIn(!keepLoggedIn),className:\"mr-2 w-[18px] h-[18px]\"}),\"Keep me logged in\"]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button\",children:\"Login\"})]})]});}})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-[13px] tracking-tight leading-6 mt-[50px] text-[#A3AED0]\",children:\"\\xA9 2022 Horizon UI. All Rights Reserved. Made with love by Simmmple!\"})]});};export default observer(LoginForm);","map":{"version":3,"names":["useContext","useState","StoreContext","remove_img","remove_close_img","Link","useNavigate","Yup","Formik","Form","Field","ErrorMessage","observer","jsx","_jsx","jsxs","_jsxs","LoginForm","initialValues","email","password","role","keepLoggedIn","showPassword","setShowPassword","setKeepLoggedIn","handleTogglePassword","store","navigate","validationSchema","object","shape","string","required","min","onSubmit","values","_ref","resetForm","login","localStorage","setItem","isAuth","error","console","className","children","_ref2","errors","touched","method","as","name","concat","value","component","htmlFor","id","type","placeholder","src","alt","onClick","to","checked","onChange"],"sources":["/Users/mac/analytix/client/src/components/LoginForm.tsx"],"sourcesContent":["import { useContext, useState } from \"react\";\nimport {} from \"../index\";\nimport { StoreContext } from \"../store/StoreContext\";\nimport remove_img from \"../img/remove_red_eye.svg\";\nimport remove_close_img from \"../img/remove_eye-off-outline.svg\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport { observer } from 'mobx-react-lite';\n\n\nconst LoginForm = () => {\n  const initialValues = {\n    email: \"\",\n    password: \"\",\n    role: \"\",\n    keepLoggedIn: false,\n  };\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [keepLoggedIn, setKeepLoggedIn] = useState(false);\n\n  const handleTogglePassword = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const { store } = useContext(StoreContext);\n  const navigate = useNavigate();\n\n  const validationSchema = Yup.object().shape({\n    email: Yup.string()\n      .email(\"Nieprawidłowy adres email\")\n      .required(\"Email jest wymagany\"),\n    password: Yup.string()\n      .min(8, \"Password musi mieć co najmniej 8 znaków\")\n      .required(\"Password jest wymagane\"),\n    role: Yup.string().required(\"Wybierz swoje oddział\"),\n  });\n\n\n  const onSubmit = async (values: any, { resetForm }: any) => {\n    \n    try {\n      await store.login(values.email, values.password, values.role);\n      \n      if (keepLoggedIn) {\n        localStorage.setItem(\"isLoggedIn\", \"true\");\n      }\n      \n      if (store.isAuth) {}\n      navigate(\"/brand\");\n      resetForm();\n    } catch (error) {\n      console.error(\"Authentication failed:\", error);\n    }\n  };\n  \n\n  return (\n    <section className=\"flex flex-col\">\n      <div className=\"text-left\">\n        <h3 className=\"font-bold text-4xl leading-10\">Logowanie do oddziału</h3>\n        <p className=\"text-base text-[#A3AED0] tracking-tight mt-2  pb-[13px] relative\">\n          Wpisz swój adres e-mail i hasło, aby się zalogować!\n          <span className=\"absolute bottom-0 left-0 w-full h-[1px] bg-[#E0E5F2] max-[500px]:w-[310px]\"></span>\n        </p>\n      </div>\n      <div className=\"flex flex-col\">\n        <Formik\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={onSubmit}\n        >\n          {({ values, errors, touched }) => (\n            <Form method=\"post\">\n              <div className=\"mt-8 mb-[51px]\">\n                <Field\n                  as=\"select\"\n                  name=\"role\"\n                  className={`w-[388px] py-3 px-4 border border-[#E0E2E7] bg-transparent rounded-2xl text-[#A3AED0] focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm max-[500px]:w-[310px] ${\n                    touched.role && errors.role ? \"border-red-500\" : \"\"\n                  }`}\n                >\n                  <option value=\"0\">Select your Branch...</option>\n                  <option>Бренд</option>\n                  <option>Афіліат</option>\n                </Field>\n                <ErrorMessage\n                  name=\"role\"\n                  component=\"div\"\n                  className=\"text-red-500 text-sm mt-1\"\n                />\n              </div>\n              <div>\n                  <label className=\"form_label\" htmlFor=\"user-email\">\n                    Email*\n                  </label>\n                  <div>\n                    <Field\n                      className=\"form_input mb-6 w-[410px] max-[500px]:w-[310px]\"\n                      id=\"user-email\"\n                      type=\"text\"\n                      placeholder=\"mail@simmmple.com\"\n                      name=\"email\"\n                    />\n                    <ErrorMessage\n                      name=\"email\"\n                      component=\"div\"\n                      className=\"text-red-500 text-sm mt-[2px]\"\n                    />\n                  </div>\n                </div>\n                <div>\n                <label className=\"form_label\" htmlFor=\"user-password\">\n                  Password*\n                </label>\n                <div className=\"relative\">\n                  <Field\n                    className=\"form_input mb-[5px] w-[410px] max-[500px]:w-[310px]\"\n                    id=\"user-password\"\n                    type={showPassword ? \"text\" : \"password\"}\n                    placeholder=\"Min. 8 characters\"\n                    name=\"password\"\n                  />\n                  <img\n                    src={showPassword ? remove_img : remove_close_img}\n                    alt={showPassword ? \"Hide password\" : \"Show password\"}\n                    onClick={handleTogglePassword}\n                    className=\"absolute inset-y-0 right-0 mt-[30px] mr-[18px] cursor-pointer\"\n                  />\n                </div>\n                <ErrorMessage\n                  name=\"password\"\n                  component=\"div\"\n                  className=\"text-red-500 text-sm mt-[2px]\"\n                />\n              </div>\n              <div className=\"\">\n          <div className=\"text-[#2E65F3] text-[14px] leading-5 text-end font-medium max-[500px]:mr-[16px]\">\n            <Link to=\"/\">Forget password?</Link>\n          </div>\n          <div className=\"flex  mt-[29px]  mb-[39px]\">\n            <label className=\"flex items-center mb-4 text-[14px] leading-5\">\n              <input\n                type=\"checkbox\"\n                checked={keepLoggedIn}\n                onChange={() => setKeepLoggedIn(!keepLoggedIn)}\n                className=\"mr-2 w-[18px] h-[18px]\"\n              />\n              Keep me logged in\n            </label>\n          </div>\n          <button type=\"submit\" className=\"button\">\n          Login\n                </button>\n        </div>\n            </Form>\n          )}\n        </Formik>\n      </div>\n      <div className=\"text-[13px] tracking-tight leading-6 mt-[50px] text-[#A3AED0]\">\n        © 2022 Horizon UI. All Rights Reserved. Made with love by Simmmple!\n      </div>\n    </section>\n  );\n};\n\nexport default observer(LoginForm)"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}